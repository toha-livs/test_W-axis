webpackJsonp([1],{E9eJ:function(t,n){},NHnr:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r("7+uW"),i=r("NYxO"),s={name:"Updating",computed:Object(i.b)(["products","shoppings"]),methods:{addProduct:function(t){this.$store.dispatch("createShopping",{product:t.id,order:this.$route.params.id})},deleteProduct:function(t){this.$store.dispatch("deleteShopping",t.id)}},beforeMount:function(){this.$store.dispatch("getProducts"),this.$store.dispatch("getShoppings",this.$route.params.id)}},o={render:function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("router-link",{attrs:{to:"/",id:"btn-back"}},[t._v("Назад")]),t._v(" "),r("div",{attrs:{id:"add-all"}},[r("div",{attrs:{id:"added"}},[r("label",[t._v("Добавленные")]),t._v(" "),t._l(t.shoppings,function(n){return r("div",{staticClass:"added-list",attrs:{id:n.id}},[r("div",{staticClass:"parter1"},[r("h3",[t._v(t._s(n.name))]),t._v(" "),r("p",[t._v(t._s(n.price))])]),t._v(" "),r("div",{staticClass:"parter2"},[r("div",[r("i",{staticClass:"fas fa-trash-alt",on:{click:function(r){return t.deleteProduct(n)}}})])])])})],2),t._v(" "),r("div",{attrs:{id:"add"}},[r("label",[t._v("Все продукты")]),t._v(" "),t._l(t.products,function(n){return r("div",{staticClass:"add-list"},[r("div",{staticClass:"parter1"},[r("h3",[t._v(t._s(n.name))]),t._v(" "),r("p",[t._v(t._s(n.price))])]),t._v(" "),r("div",{staticClass:"parter2"},[r("div",[r("i",{staticClass:"fas fa-plus-square",on:{click:function(r){return t.addProduct(n)}}})])])])})],2)])],1)},staticRenderFns:[]};var a=r("VU/8")(s,o,!1,function(t){r("jJHy")},"data-v-2ecb6cb8",null).exports,d=r("fzx2"),c={name:"Add",data:function(){return{load_div:!1}},methods:{createOrder:function(){this.load_div=!0;var t=d.a.v1(),n=this;this.$store.dispatch("createOrder",{id:t}),setTimeout(function(){n.load_div=!1,n.$router.push("/order/"+t)},1300)}}},u={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("div",{attrs:{id:"btn-div"}},[n("button",{attrs:{id:"btn"},on:{click:this.createOrder}},[this._v("Создать покупку")])]),this._v(" "),this.load_div?n("div",{attrs:{id:"load-div"}},[this._v("\n    Создание...\n  ")]):this._e()])},staticRenderFns:[]};var p=r("VU/8")(c,u,!1,function(t){r("Rv5k")},"data-v-59291884",null).exports,v={name:"Start",computed:Object(i.b)(["orders"]),methods:{updateOrder:function(t){this.$router.push("/order/"+t)},delOrder:function(t){this.$store.dispatch("deleteOrder",t)}},beforeMount:function(){this.$store.dispatch("getOrders")}},f={render:function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("h2",[t._v("Покупки")]),t._v(" "),r("div",{staticClass:"ordersList"},t._l(t.orders,function(n){return r("div",{staticClass:"order",attrs:{id:n.id}},[r("div",{staticClass:"shell",on:{click:function(r){return t.updateOrder(n.id)}}},[r("div",{staticClass:"data1"},[t._v(t._s(n.date))]),t._v(" "),r("div",{staticClass:"data2"},t._l(n.products,function(n){return r("div",{staticClass:"Product"},[r("h3",[t._v(t._s(n.name))]),t._v(" "),r("p",[t._v(t._s(n.price)+" грн")])])}),0),t._v(" "),r("div",{staticClass:"data3"},[t._v(t._s(n.sum_price)+" грн")])]),t._v(" "),r("button",{staticClass:"data4 button",on:{click:function(r){return t.delOrder(n.id)}}},[r("i",{staticClass:"fas fa-trash-alt"})])])}),0)])},staticRenderFns:[]};var h={name:"App",components:{Add:p,Start:r("VU/8")(v,f,!1,function(t){r("tEIN")},"data-v-6ce82080",null).exports}},l={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("div",{attrs:{id:"top"}},[n("Add")],1),this._v(" "),n("div",[n("Start")],1)])},staticRenderFns:[]};var _,m=r("VU/8")(h,l,!1,function(t){r("E9eJ")},"data-v-bbfbba02",null).exports,O=r("bOdI"),g=r.n(O),E=r("Gu7T"),S=r.n(E),b=r("mtWM"),R=r.n(b).a.create({baseURL:"http://localhost:8000/api/v1/"}),P=r("7t+N"),C=r.n(P),D=function(t){return C.a.post("http://localhost:8000/api/v1/order/",t).done(function(t){return t})},$=function(t){return R.delete("/order/"+t+"/")},N=function(){return R.get("/orders-list/").then(function(t){return t.data})},k=function(t){return C.a.post("http://localhost:8000/api/v1/add-shoping-cash/",t).done(function(t){return t.data})},H=function(t){return R.delete("/shoping-cash/"+t+"/")},T=function(t){return R.get("/order-details/"+t+"/").then(function(t){return t.data})},I=function(){return R.get("/products/").then(function(t){return t})};e.a.use(i.a);var A=(_={},g()(_,"ADD_ORDER",function(t,n){t.orders=[].concat(S()(t.orders),[n])}),g()(_,"REMOVE_ORDER",function(t,n){t.orders=t.orders.filter(function(t){return t.id!==n})}),g()(_,"SET_ORDERS",function(t,n){var r=n.orders;t.orders=r.result}),g()(_,"SET_PRODUCTS",function(t,n){var r=n.products;t.products=r.data}),g()(_,"ADD_SHOPPING",function(t,n){t.shoppings=[].concat(S()(t.shoppings),[n.data])}),g()(_,"REMOVE_SHOPPING",function(t,n){t.shoppings=t.shoppings.filter(function(t){return t.id!==n})}),g()(_,"SET_SHOPPINGS",function(t,n){var r=n.shoppings;t.shoppings=r.data}),_),M={createOrder:function(t,n){var r=t.commit;D(n).then(function(t){r("ADD_ORDER",t)})},deleteOrder:function(t,n){var r=t.commit;$(n).then(function(t){r("REMOVE_ORDER",n)})},getOrders:function(t){var n=t.commit;N().then(function(t){n("SET_ORDERS",{orders:t})})},getProducts:function(t){var n=t.commit;I().then(function(t){n("SET_PRODUCTS",{products:t})})},createShopping:function(t,n){var r=t.commit;k(n).then(function(t){r("ADD_SHOPPING",t)}).catch(function(t){alert("этот товар уже добавлен!")})},deleteShopping:function(t,n){var r=t.commit;H(n).then(function(t){r("REMOVE_SHOPPING",n)})},getShoppings:function(t,n){var r=t.commit;T(n).then(function(t){r("SET_SHOPPINGS",{shoppings:t})})}},U=new i.a.Store({state:{orders:[],shoppings:[],products:[]},getters:{orders:function(t){return t.orders},shoppings:function(t){return t.shoppings},products:function(t){return t.products}},actions:M,mutations:A}),V=r("/ocq");e.a.use(V.a);var G=[{path:"/",component:m},{path:"/order/:id",component:a}],x=new V.a({routes:G});new e.a({router:x,store:U}).$mount("#app")},Rv5k:function(t,n){},jJHy:function(t,n){},tEIN:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.b33b0e8f48e62c0d8d1e.js.map